# FILEMAP.md - NASA Exoplanet ML Training Project
# å®Œæ•´æª”æ¡ˆæ¸…å–®èˆ‡åŠŸèƒ½æ‘˜è¦ç´¢å¼•

**æƒææ—¥æœŸ**: 2025-01-05
**å°ˆæ¡ˆç‰ˆæœ¬**: 2.0.0 (æ”¹é€ å‰)
**ç¸½ç­†æ•¸**: 1000 (balanced_features.csv)

---

## ğŸ“‹ ç›®éŒ„

1. [è³‡æ–™æª”æ¡ˆ](#1-è³‡æ–™æª”æ¡ˆ)
2. [ML æ¨¡å‹èˆ‡è¨“ç·´è…³æœ¬](#2-ml-æ¨¡å‹èˆ‡è¨“ç·´è…³æœ¬)
3. [å·¥å…·è…³æœ¬](#3-å·¥å…·è…³æœ¬)
4. [æ ¸å¿ƒæ¨¡çµ„](#4-æ ¸å¿ƒæ¨¡çµ„-src)
5. [é…ç½®æª”æ¡ˆ](#5-é…ç½®æª”æ¡ˆ-configs)
6. [æ¸¬è©¦æª”æ¡ˆ](#6-æ¸¬è©¦æª”æ¡ˆ-tests)
7. [æ–‡æª”](#7-æ–‡æª”)
8. [Notebooks](#8-notebooks)
9. [éºç•™ä»£ç¢¼](#9-éºç•™ä»£ç¢¼-legacy)
10. [å°ˆæ¡ˆç®¡ç†](#10-å°ˆæ¡ˆç®¡ç†)
11. [CI/CD](#11-cicd)

---

## 1. è³‡æ–™æª”æ¡ˆ

### balanced_features.csv
- **è·¯å¾‘**: `./balanced_features.csv`
- **èªè¨€**: CSV
- **ç­†æ•¸**: 1000
- **åŠŸèƒ½**: ä¸»è³‡æ–™é›†ï¼ŒåŒ…å«å¹³è¡¡çš„ç‰¹å¾µèˆ‡æ¨™ç±¤
- **æ¬„ä½**:
  - `sample_id`: æ¨£æœ¬ID
  - `tic_id`: TICç›®æ¨™ID
  - `label`: ç›®æ¨™æ¨™ç±¤ (0/1 åˆ†é¡)
  - `n_sectors`: è§€æ¸¬å€æ®µæ•¸
  - ç‰¹å¾µæ¬„ä½: `flux_mean`, `flux_std`, `flux_median`, `flux_mad`, `flux_skew`, `flux_kurt`
  - BLSç‰¹å¾µ: `bls_period`, `bls_duration`, `bls_depth`, `bls_power`, `bls_snr`
  - ç‹€æ…‹æ¬„ä½: `status`, `error`
- **ç›¸ä¾**: æ‰€æœ‰æ¨¡å‹çš„è³‡æ–™ä¾†æº
- **é¢¨éšª**: âš ï¸ **ç•¶å‰å•é¡Œ**: ä¸åŒæ¨¡å‹ä½¿ç”¨ä¸åŒè³‡æ–™åˆ‡åˆ†æ–¹å¼ï¼Œéœ€çµ±ä¸€

---

## 2. ML æ¨¡å‹èˆ‡è¨“ç·´è…³æœ¬

### 2.1 Deep Learning æ¨¡å‹

#### Genesis Model (CNN Ensemble)
- **è·¯å¾‘**: `./Genesis/genesis_model.py`
- **èªè¨€**: Python (TensorFlow/Keras)
- **åŠŸèƒ½**: å¯¦ä½œè«–æ–‡ "A one-armed CNN for exoplanet detection" çš„æ·±åº¦å­¸ç¿’æ¨¡å‹
- **æ¶æ§‹**:
  - 5å€‹CNNæ¨¡å‹é›†æˆ
  - åƒæ•¸é‡: ~487K
  - è¼¸å…¥: å…‰è®Šæ›²ç·š (2001å€‹æ™‚é–“é»)
- **è¨“ç·´**: `./scripts/train_genesis_cnn.py`
- **è³‡æ–™ä¾†æº**: âš ï¸ ä½¿ç”¨åŸå§‹å…‰è®Šæ›²ç·šï¼Œ**èˆ‡ä¸»è³‡æ–™é›†ä¸åŒ**
- **è¼¸å‡º**:
  - æ¨¡å‹æ¬Šé‡: æœªçµ±ä¸€è·¯å¾‘
  - æŒ‡æ¨™: JSONæ ¼å¼
  - æ··æ·†çŸ©é™£: âŒ **ç¼ºå°‘**
- **å„ªåŒ–**: GPU (TFæ··åˆç²¾åº¦FP16, XLA JIT)
- **ç›¸ä¾**: TensorFlow, Keras
- **é¢¨éšª**:
  - è³‡æ–™ä¾†æºèˆ‡å…¶ä»–æ¨¡å‹ä¸ä¸€è‡´
  - ç¼ºå°‘çµ±ä¸€çš„è¼¸å‡ºæ ¼å¼
  - è¨“ç·´æ™‚é–“é•· (~16.7åˆ†é˜)

#### CNN1D Model
- **è·¯å¾‘**: `./cnn1d/cnn1d.py`, `./cnn1d/cnn1d_trainer.py`
- **èªè¨€**: Python (PyTorch)
- **åŠŸèƒ½**: 1D CNNç”¨æ–¼å…‰è®Šæ›²ç·šåˆ†é¡
- **æ¶æ§‹**: Conv1D + BatchNorm + Pooling
- **è¨“ç·´**: å…§å»º trainer
- **è³‡æ–™ä¾†æº**: âš ï¸ è‡ªè¨‚è³‡æ–™è¼‰å…¥
- **è¼¸å‡º**:
  - æ¨¡å‹: `artifacts/cnn1d.pt`
  - æŒ‡æ¨™: `reports/metrics_cnn.json`
  - æ··æ·†çŸ©é™£: âŒ **ç¼ºå°‘**
- **å„ªåŒ–**: PyTorch GPU
- **ç›¸ä¾**: PyTorch
- **é¢¨éšª**: è³‡æ–™è¼‰å…¥ä¸çµ±ä¸€

#### GP+CNN Benchmark
- **è·¯å¾‘**: `./complete_gpcnn_benchmark.py`
- **èªè¨€**: Python (PyTorch)
- **åŠŸèƒ½**: GPå»é›œè¨Š + CNN pipeline
- **æ¶æ§‹**:
  - Phase 1: GP simulator (Linear layers)
  - Phase 2: Multi-layer CNN
  - Phase 3: Classifier
- **è¨“ç·´**: ä¸€é«”åŒ–è…³æœ¬
- **è³‡æ–™ä¾†æº**: `tsfresh_features.csv` âš ï¸ **ä¸æ˜¯ä¸»è³‡æ–™é›†**
- **è¼¸å‡º**: JSONæŒ‡æ¨™
- **å„ªåŒ–**: GPU (CUDA), AMPæ··åˆç²¾åº¦
- **ç›¸ä¾**: PyTorch, TSFresh
- **é¢¨éšª**:
  - ä½¿ç”¨éŒ¯èª¤çš„è³‡æ–™é›†
  - è³‡æ–™åˆ‡åˆ†ä¸ä¸€è‡´
  - ç¼ºå°‘æ··æ·†çŸ©é™£

### 2.2 å‚³çµ± ML æ¨¡å‹

#### XGBoost Models
- **è·¯å¾‘**:
  - `./scripts/train_xgboost_optuna.py` (Optunaå„ªåŒ–ç‰ˆ)
  - `./ultraoptimized_cpu_models.py` (CPUå„ªåŒ–ç‰ˆ)
  - `./final_model_comparison.py` (æ¯”è¼ƒè…³æœ¬)
- **èªè¨€**: Python (XGBoost)
- **åŠŸèƒ½**: æ¢¯åº¦æå‡æ¨¹åˆ†é¡
- **è¨“ç·´é…ç½®**:
  - n_estimators: 300-500
  - max_depth: 6-8
  - tree_method: 'hist' (CPU) / 'gpu_hist' (GPU)
- **è³‡æ–™ä¾†æº**: âš ï¸ æ··åˆä½¿ç”¨ `tsfresh_features.csv` å’Œå…¶ä»–
- **è¼¸å‡º**: JSONæŒ‡æ¨™
- **å„ªåŒ–**:
  - CPU: Intel MKL, OpenMP, å¤šç·šç¨‹
  - GPU: CUDA histogram method
- **ç›¸ä¾**: XGBoost, Optuna (å¯é¸)
- **é¢¨éšª**:
  - å¤šå€‹ç‰ˆæœ¬å­˜åœ¨
  - è³‡æ–™ä¾†æºä¸çµ±ä¸€
  - ç¼ºå°‘æ··æ·†çŸ©é™£è¼¸å‡º

#### Random Forest
- **è·¯å¾‘**:
  - `./ultraoptimized_cpu_models.py` (CPUå„ªåŒ–ç‰ˆ)
  - `./final_model_comparison.py` (æ¯”è¼ƒè…³æœ¬)
  - `./legacy/train_rf_v1.py` (èˆŠç‰ˆ)
- **èªè¨€**: Python (Scikit-learn)
- **åŠŸèƒ½**: éš¨æ©Ÿæ£®æ—åˆ†é¡å™¨
- **è¨“ç·´é…ç½®**:
  - n_estimators: 200-500
  - max_depth: 8-12
  - n_jobs: -1 (å¤šç·šç¨‹)
- **è³‡æ–™ä¾†æº**: âš ï¸ ä¸çµ±ä¸€
- **è¼¸å‡º**: JSONæŒ‡æ¨™
- **å„ªåŒ–**: Intel Extension for Scikit-learn, å¤šç·šç¨‹
- **ç›¸ä¾**: Scikit-learn, scikit-learn-intelex (å¯é¸)
- **é¢¨éšª**: å¤šç‰ˆæœ¬å­˜åœ¨ï¼Œè³‡æ–™ä¸çµ±ä¸€

#### MLP (Neural Network)
- **è·¯å¾‘**:
  - `./ultraoptimized_cpu_models.py`
  - `./legacy/koi_project_nn.py`
- **èªè¨€**: Python (Scikit-learn)
- **åŠŸèƒ½**: å¤šå±¤æ„ŸçŸ¥æ©Ÿåˆ†é¡å™¨
- **æ¶æ§‹**: (512, 256, 128, 64)
- **Solver**: LBFGS (æœ€é©åˆCPUå°è³‡æ–™é›†)
- **è³‡æ–™ä¾†æº**: âš ï¸ ä¸çµ±ä¸€
- **å„ªåŒ–**: Intel MKL
- **é¢¨éšª**: æ€§èƒ½è¼ƒä½ï¼Œå¯èƒ½éœ€è¦ç§»é™¤æˆ–æ”¹é€²

---

## 3. å·¥å…·è…³æœ¬

### 3.1 æ¯”è¼ƒèˆ‡è·‘åˆ†å·¥å…·

#### final_model_comparison.py
- **è·¯å¾‘**: `./final_model_comparison.py`
- **èªè¨€**: Python
- **åŠŸèƒ½**:
  - æ¯”è¼ƒ Genesis vs XGBoost vs Random Forest
  - ç”Ÿæˆç¶œåˆæ¯”è¼ƒå ±å‘Šï¼ˆPDF + åœ–è¡¨ï¼‰
  - è¼¸å‡ºæ’åè¡¨
- **è¼¸å…¥**:
  - `reports/results/genesis_final_results.json`
  - `reports/results/quick_complete_comparison.json`
- **è¼¸å‡º**:
  - PDF: `reports/Final_Model_Comparison_Report.pdf`
  - CSV: `reports/results/final_comparison_table.csv`
  - JSON: `reports/results/final_comparison_summary.json`
  - åœ–è¡¨: `reports/figures/final_*.png`
- **ç›¸ä¾**: Matplotlib, Seaborn, Pandas
- **é¢¨éšª**: âš ï¸ **éœ€æ•´åˆ**: è¼¸å…¥ä¾†æºä¸çµ±ä¸€ï¼Œéœ€æ”¹ç‚ºçµ±ä¸€æ ¼å¼

### 3.2 CPU/GPU å„ªåŒ–å·¥å…·

#### ultraoptimized_cpu_models.py
- **è·¯å¾‘**: `./ultraoptimized_cpu_models.py`
- **èªè¨€**: Python
- **åŠŸèƒ½**:
  - CPUæ¥µè‡´å„ªåŒ–çš„è¨“ç·´æµç¨‹
  - åŒ…å« RF, XGBoost, MLP
  - Intel MKL + OpenMP + å¤šç·šç¨‹
- **å„ªåŒ–é …ç›®**:
  - ç‰©ç†æ ¸å¿ƒåµæ¸¬
  - Intel MKL threading
  - OpenMP thread binding
  - CPU affinityè¨­å®š
  - Memory-aligned arrays (64-byte)
  - Cache-optimized dtypes (float32)
- **è¼¸å‡º**: `ultraoptimized_cpu_results.json`
- **ç›¸ä¾**: NumPy (MKL), psutil
- **é¢¨éšª**: âš ï¸ **éœ€æ•´åˆ**: æ”¹ç‚ºä½¿ç”¨çµ±ä¸€è³‡æ–™ç®¡ç·š

#### complete_gpcnn_benchmark.py
- **è·¯å¾‘**: `./complete_gpcnn_benchmark.py`
- **èªè¨€**: Python
- **åŠŸèƒ½**: å®Œæ•´benchmarkï¼ŒåŒ…å«GP+CNN
- **å„ªåŒ–**: GPU (CUDA benchmark, TF32)
- **é¢¨éšª**: è³‡æ–™ä¾†æºéŒ¯èª¤ï¼Œéœ€ä¿®æ­£

### 3.3 å…¶ä»–å·¥å…·

#### check_artifacts.py
- **è·¯å¾‘**: `./check_artifacts.py`
- **åŠŸèƒ½**: æª¢æŸ¥ artifacts ç›®éŒ„è¼¸å‡º
- **é¢¨éšª**: âš ï¸ **éœ€æ›´æ–°**: é…åˆæ–°çš„çµ±ä¸€è¼¸å‡ºæ ¼å¼

#### fold.py
- **è·¯å¾‘**: `./fold.py`
- **åŠŸèƒ½**: æœªæ˜ç¢ºï¼Œå¯èƒ½æ˜¯äº¤å‰é©—è­‰ç›¸é—œ
- **é¢¨éšª**: âš ï¸ **éœ€æª¢è¦–**: æ˜¯å¦ä¿ç•™æˆ–ç§»é™¤

#### gp.py
- **è·¯å¾‘**: `./gp.py`
- **åŠŸèƒ½**: Gaussian Processç›¸é—œï¼Œå¯èƒ½ç”¨æ–¼å»é›œè¨Š
- **é¢¨éšª**: âš ï¸ **éœ€æ•´åˆ**: ä½œç‚ºå‰è™•ç†é¸é …

#### tls_runner.py
- **è·¯å¾‘**: `./tls_runner.py`
- **åŠŸèƒ½**: æœªæ˜ç¢º
- **é¢¨éšª**: âš ï¸ **éœ€æª¢è¦–**

---

## 4. æ ¸å¿ƒæ¨¡çµ„ (src/)

### 4.1 å·²å¯¦ä½œæ¨¡çµ„

#### src/data_loader.py âœ…
- **ç‹€æ…‹**: âœ… **å·²å¯¦ä½œ** (ç¬¦åˆè¦æ ¼)
- **åŠŸèƒ½**:
  - çµ±ä¸€è³‡æ–™è¼‰å…¥
  - å›ºå®šåˆ‡åˆ†: 600/200/200
  - åˆ†å±¤æŠ½æ¨£ (stratified)
  - è³‡æ–™å®Œæ•´æ€§é©—è­‰
- **API**:
  - `load_and_split_data()` - ä¸»è¦å‡½æ•¸
  - `load_csv_data()` - CSVè¼‰å…¥
  - `get_feature_columns()` - è‡ªå‹•åµæ¸¬ç‰¹å¾µæ¬„
  - `validate_data_integrity()` - è³‡æ–™é©—è­‰
- **æ¸¬è©¦**: âœ… `tests/test_data_loader.py` (å·²æœ‰æ¸¬è©¦)
- **ç›¸ä¾**: Pandas, NumPy, Scikit-learn
- **å„ªé»**:
  - ç¬¦åˆè¦æ ¼è¦æ±‚
  - è‰¯å¥½çš„éŒ¯èª¤è™•ç†
  - å®Œæ•´çš„æ–‡æª”è¨»é‡‹

#### src/__init__.py
- **ç‹€æ…‹**: âœ… å­˜åœ¨
- **åŠŸèƒ½**: Python packageåˆå§‹åŒ–
- **å…§å®¹**: ç©ºæª”æ¡ˆ

### 4.2 å¾…å¯¦ä½œæ¨¡çµ„

#### src/preprocess.py âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **åŠŸèƒ½ (è¦åŠƒ)**:
  - çµ±ä¸€è³‡æ–™å‰è™•ç†
  - æ¨™æº–åŒ–/æ­£è¦åŒ–
  - ç¼ºå¤±å€¼è™•ç†
  - ç‰¹å¾µå·¥ç¨‹ (å¯é¸)
  - GPå»é›œè¨Š (å¯é¸)
- **éœ€æ±‚**:
  - èˆ‡ data_loader æ•´åˆ
  - æ”¯æ´ä¸åŒæ¨¡å‹çš„éœ€æ±‚
  - PipelineåŒ–

#### src/metrics.py âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **åŠŸèƒ½ (è¦åŠƒ)**:
  - çµ±ä¸€æŒ‡æ¨™è¨ˆç®—
  - Confusion matrix (PNG + CSV)
  - Classification report
  - ROC-AUC, PR-AUC
  - å¯è¦–åŒ–å·¥å…·
- **éœ€æ±‚**:
  - æ‰€æœ‰æ¨¡å‹ä½¿ç”¨ç›¸åŒå‡½æ•¸
  - è¼¸å‡ºæ ¼å¼çµ±ä¸€åˆ° `artifacts/<model>/`

#### src/models/ âŒ
- **ç‹€æ…‹**: âŒ **ç›®éŒ„ä¸å­˜åœ¨**
- **åŠŸèƒ½ (è¦åŠƒ)**:
  - æ¯å€‹æ¨¡å‹ä¸€å€‹å­ç›®éŒ„
  - çµ±ä¸€è¨“ç·´æ¥å£
  - `src/models/xgboost/`
  - `src/models/random_forest/`
  - `src/models/genesis/`
  - `src/models/cnn1d/`
  - `src/models/gpcnn/`
- **éœ€æ±‚**: é‡æ§‹ç¾æœ‰æ¨¡å‹ä»£ç¢¼

#### src/trainers/ âŒ
- **ç‹€æ…‹**: âŒ **ç›®éŒ„ä¸å­˜åœ¨**
- **åŠŸèƒ½ (è¦åŠƒ)**:
  - çµ±ä¸€Traineré¡åˆ¥
  - `<model_name>_trainer.py`
  - æ¨™æº–åŒ–è¨“ç·´æµç¨‹
  - è‡ªå‹•ä¿å­˜ artifacts
- **éœ€æ±‚**: æŠ½è±¡åŒ–è¨“ç·´é‚è¼¯

---

## 5. é…ç½®æª”æ¡ˆ (configs/)

### configs/base.yaml âœ…
- **ç‹€æ…‹**: âœ… **å·²å¯¦ä½œ**
- **åŠŸèƒ½**: åŸºç¤é…ç½®ï¼Œæ‰€æœ‰å¹³å°å…±ç”¨
- **å…§å®¹**:
  - å°ˆæ¡ˆè³‡è¨Š
  - è³‡æ–™åˆ‡åˆ†è¨­å®š (600/200/200)
  - è¼¸å‡ºæ ¼å¼è¨­å®š
  - æ¨¡å‹è¨“ç·´åƒæ•¸
  - æ—¥èªŒé…ç½®
- **å„ªé»**: çµæ§‹æ¸…æ™°ï¼Œç¬¦åˆè¦æ ¼

### configs/local.yaml âœ…
- **ç‹€æ…‹**: âœ… **å·²å¯¦ä½œ**
- **åŠŸèƒ½**: æœ¬æ©ŸåŸ·è¡Œé…ç½®
- **ç‰¹è‰²**:
  - ç¡¬é«”è‡ªå‹•åµæ¸¬ (CPU/GPU)
  - Intel MKLå„ªåŒ–
  - OpenMPè¨­å®š
  - Apple Silicon MPSæ”¯æ´
  - è‡ªé©æ‡‰batch size
  - è³‡æºé™åˆ¶
- **å„ªé»**: å®Œå–„çš„æœ¬æ©Ÿå„ªåŒ–è¨­å®š

### configs/colab.yaml âœ…
- **ç‹€æ…‹**: âœ… **æª”æ¡ˆå­˜åœ¨** (éœ€é©—è­‰å…§å®¹)
- **åŠŸèƒ½**: Google ColabåŸ·è¡Œé…ç½®
- **éœ€æ±‚**:
  - âš ï¸ **éœ€é©—è­‰**: 2025/10 Colabç’°å¢ƒç›¸å®¹æ€§
  - GPUé…ç½® (T4/V100)
  - å¥—ä»¶ç‰ˆæœ¬é–å®š
  - Driveæ›è¼‰è¨­å®š
  - é¿å…timeout

---

## 6. æ¸¬è©¦æª”æ¡ˆ (tests/)

### 6.1 å·²å¯¦ä½œæ¸¬è©¦

#### tests/test_data_loader.py âœ…
- **ç‹€æ…‹**: âœ… **å·²å¯¦ä½œ**
- **åŠŸèƒ½**: æ¸¬è©¦ data_loader.py
- **æ¸¬è©¦è¦†è“‹**:
  - CSVè¼‰å…¥
  - è³‡æ–™åˆ‡åˆ†
  - åˆ†å±¤æŠ½æ¨£
  - è³‡æ–™é©—è­‰
  - éŒ¯èª¤è™•ç†
- **æ¸¬è©¦æ¡†æ¶**: pytest
- **è¦†è“‹ç‡**: å¾…ç¢ºèª

#### tests/conftest.py âœ…
- **ç‹€æ…‹**: âœ… **å·²å¯¦ä½œ**
- **åŠŸèƒ½**: Pytest fixtureså’Œå…±ç”¨è¨­å®š

#### tests/__init__.py âœ…
- **ç‹€æ…‹**: âœ… å­˜åœ¨

### 6.2 å¾…å¯¦ä½œæ¸¬è©¦

#### tests/test_preprocess.py âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **éœ€æ±‚**: æ¸¬è©¦å‰è™•ç†æ¨¡çµ„

#### tests/test_metrics.py âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **éœ€æ±‚**: æ¸¬è©¦æŒ‡æ¨™è¨ˆç®—

#### tests/test_models/ âŒ
- **ç‹€æ…‹**: âŒ **ç›®éŒ„ä¸å­˜åœ¨**
- **éœ€æ±‚**: æ¯å€‹æ¨¡å‹çš„ç…™éœ§æ¸¬è©¦

#### tests/test_integration.py âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **éœ€æ±‚**: ç«¯åˆ°ç«¯æ•´åˆæ¸¬è©¦

### pytest.ini âœ…
- **ç‹€æ…‹**: âœ… **å·²å¯¦ä½œ**
- **åŠŸèƒ½**: Pytesté…ç½®æª”

---

## 7. æ–‡æª”

### PROMPT.md âœ…
- **ç‹€æ…‹**: âœ… **å­˜åœ¨**
- **åŠŸèƒ½**: å°ˆæ¡ˆæ”¹é€ éœ€æ±‚æ–‡æª”
- **å…§å®¹**: å®Œæ•´çš„ä»»å‹™è¦æ ¼èˆ‡åŸ·è¡Œæ­¥é©Ÿ

### CLAUDE.md âœ…
- **ç‹€æ…‹**: âœ… **å­˜åœ¨**
- **åŠŸèƒ½**: Claude Codeé…ç½®æ–‡æª”

### FILEMAP.md ğŸš§
- **ç‹€æ…‹**: ğŸš§ **æœ¬æª”æ¡ˆ**
- **åŠŸèƒ½**: å®Œæ•´æª”æ¡ˆæ¸…å–®èˆ‡æ‘˜è¦

### README.md ğŸ“
- **ç‹€æ…‹**: ğŸ“ **éœ€æ›´æ–°**
- **åŠŸèƒ½**: å°ˆæ¡ˆä¸»è¦èªªæ˜æ–‡æª”
- **éœ€æ±‚**:
  - æ›´æ–°ç‚ºæ–°æ¶æ§‹
  - åŠ å…¥åŸ·è¡ŒæŒ‡å¼•
  - è³‡æ–™æ¬„ä½èªªæ˜
  - å¦‚ä½•åŠ æ–°æ¨¡å‹

### docs/REFACTORING_PLAN.md âœ…
- **ç‹€æ…‹**: âœ… **å­˜åœ¨**
- **åŠŸèƒ½**: é‡æ§‹è¨ˆç•«æ–‡æª”

### Genesis/GENESIS_MODEL_README.md
- **åŠŸèƒ½**: Genesisæ¨¡å‹èªªæ˜

### scripts/ML_TRAINING_GUIDE.md
- **åŠŸèƒ½**: MLè¨“ç·´æŒ‡å—

---

## 8. Notebooks

### 03b_cnn_train_mps.ipynb
- **è·¯å¾‘**: `./03b_cnn_train_mps.ipynb`
- **åŠŸèƒ½**: CNNè¨“ç·´ (Apple Silicon MPS)
- **é¢¨éšª**: âš ï¸ **éœ€æ•´åˆ**: æ•´åˆåˆ°çµ±ä¸€æµç¨‹

### 04_newdata_inference.ipynb
- **è·¯å¾‘**: `./04_newdata_inference.ipynb`
- **åŠŸèƒ½**: æ–°è³‡æ–™æ¨è«–
- **é¢¨éšª**: âš ï¸ **éœ€æ•´åˆ**

### notebooks/colab_runner.ipynb âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **éœ€æ±‚**:
  - Colabå°ˆç”¨å…¥å£
  - ç’°å¢ƒè‡ªå‹•æª¢æ¸¬
  - å¥—ä»¶å®‰è£
  - Driveæ›è¼‰
  - ä¸€éµåŸ·è¡Œæ‰€æœ‰æ¨¡å‹

---

## 9. éºç•™ä»£ç¢¼ (legacy/)

### legacy/xgboost_koi.py
- **åŠŸèƒ½**: èˆŠç‰ˆXGBoostè¨“ç·´
- **ç‹€æ…‹**: âš ï¸ **å¾…è©•ä¼°**: ä¿ç•™æˆ–ç§»é™¤

### legacy/train_rf_v1.py
- **åŠŸèƒ½**: èˆŠç‰ˆRandom Forestè¨“ç·´
- **ç‹€æ…‹**: âš ï¸ **å¾…è©•ä¼°**: ä¿ç•™æˆ–ç§»é™¤

### legacy/koi_project_nn.py
- **åŠŸèƒ½**: èˆŠç‰ˆç¥ç¶“ç¶²è·¯
- **ç‹€æ…‹**: âš ï¸ **å¾…è©•ä¼°**: ä¿ç•™æˆ–ç§»é™¤

---

## 10. å°ˆæ¡ˆç®¡ç†

### .gitignore
- **åŠŸèƒ½**: Gitå¿½ç•¥æª”æ¡ˆè¦å‰‡
- **éœ€æ±‚**: âš ï¸ **éœ€æ›´æ–°**: åŠ å…¥æ–°çš„ artifacts/, results/ ç­‰

### LICENSE
- **åŠŸèƒ½**: å°ˆæ¡ˆæˆæ¬Š

### requirements.txt âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **éœ€æ±‚**:
  - åˆ—å‡ºæ‰€æœ‰å¥—ä»¶ä¾è³´
  - å›ºå®šç‰ˆæœ¬è™Ÿ
  - å€åˆ†æœ¬æ©Ÿ/Colabéœ€æ±‚

### environment.yml âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **åŠŸèƒ½**: Condaç’°å¢ƒé…ç½® (å¯é¸)

---

## 11. CI/CD

### .github/workflows/ âŒ
- **ç‹€æ…‹**: âŒ **å°šæœªå¯¦ä½œ**
- **éœ€æ±‚**:
  - GitHub Actions CI
  - è‡ªå‹•åŸ·è¡Œ pytest
  - ä»£ç¢¼å“è³ªæª¢æŸ¥

---

## ğŸ“Š çµ±è¨ˆæ‘˜è¦

### æª”æ¡ˆçµ±è¨ˆ
- **ç¸½æª”æ¡ˆæ•¸**: ~50+ (ä¸å« `.claude/`, `htmlcov/`)
- **Pythonæª”æ¡ˆ**: ~23
- **Notebookæª”æ¡ˆ**: 2
- **é…ç½®æª”æ¡ˆ**: 3 (YAML)
- **æ–‡æª”æª”æ¡ˆ**: ~7 (Markdown)
- **è³‡æ–™æª”æ¡ˆ**: 1 (CSV, 1000ç­†)

### æ¨¡å‹çµ±è¨ˆ
- **Deep Learning**: 3 (Genesis, CNN1D, GP+CNN)
- **å‚³çµ±ML**: 3 (XGBoost, Random Forest, MLP)
- **ç¸½è¨ˆ**: 6å€‹æ¨¡å‹

### ä»£ç¢¼å¥åº·åº¦
- âœ… **å·²å®Œæˆ**:
  - è³‡æ–™è¼‰å…¥æ¨¡çµ„ (`src/data_loader.py`)
  - åŸºç¤é…ç½®æª” (`configs/*.yaml`)
  - åŸºç¤æ¸¬è©¦ (`tests/test_data_loader.py`)
- ğŸš§ **éƒ¨åˆ†å®Œæˆ**:
  - æ¨¡å‹è¨“ç·´è…³æœ¬ (åˆ†æ•£ï¼Œä¸çµ±ä¸€)
- âŒ **å¾…å¯¦ä½œ**:
  - å‰è™•ç†æ¨¡çµ„ (`src/preprocess.py`)
  - æŒ‡æ¨™æ¨¡çµ„ (`src/metrics.py`)
  - çµ±ä¸€è¨“ç·´æ¥å£ (`src/trainers/`)
  - æ¨¡å‹é‡æ§‹ (`src/models/`)
  - æ‰¹æ¬¡åŸ·è¡Œè…³æœ¬ (`scripts/run_all_*.sh`)
  - Colab Notebook (`notebooks/colab_runner.ipynb`)
  - å®Œæ•´æ¸¬è©¦å¥—ä»¶
  - CI/CD pipeline

---

## âš ï¸ é—œéµå•é¡Œèˆ‡é¢¨éšª

### ğŸ”´ é«˜é¢¨éšªå•é¡Œ (å¿…é ˆè§£æ±º)

1. **è³‡æ–™ä¾†æºä¸ä¸€è‡´** âŒ
   - ä¸åŒæ¨¡å‹ä½¿ç”¨ä¸åŒè³‡æ–™é›†:
     - Genesis: åŸå§‹å…‰è®Šæ›²ç·š
     - GP+CNN: `tsfresh_features.csv`
     - XGBoost/RF: æ··åˆä¾†æº
   - **å½±éŸ¿**: ç„¡æ³•å…¬å¹³æ¯”è¼ƒæ¨¡å‹
   - **è§£æ±º**: çµ±ä¸€ä½¿ç”¨ `balanced_features.csv`

2. **è³‡æ–™åˆ‡åˆ†ä¸ä¸€è‡´** âŒ
   - ä¸åŒæ¨¡å‹ä½¿ç”¨ä¸åŒçš„ train/val/test åˆ‡åˆ†
   - **å½±éŸ¿**: çµæœç„¡æ³•é‡ç¾å’Œæ¯”è¼ƒ
   - **è§£æ±º**: çµ±ä¸€ä½¿ç”¨ `src/data_loader.py`

3. **ç¼ºå°‘ Confusion Matrix** âŒ
   - æ‰€æœ‰æ¨¡å‹éƒ½ç¼ºå°‘ confusion matrix è¼¸å‡º
   - **å½±éŸ¿**: ä¸ç¬¦åˆè¦æ ¼è¦æ±‚
   - **è§£æ±º**: å¯¦ä½œ `src/metrics.py` ä¸¦æ•´åˆ

4. **è¼¸å‡ºæ ¼å¼ä¸çµ±ä¸€** âŒ
   - Artifacts å­˜æ”¾ä½ç½®æ··äº‚
   - **å½±éŸ¿**: é›£ä»¥æ•´åˆå’Œæ¯”è¼ƒ
   - **è§£æ±º**: çµ±ä¸€åˆ° `artifacts/<model_name>/`

### ğŸŸ¡ ä¸­é¢¨éšªå•é¡Œ (éœ€è¦è™•ç†)

5. **æ¨¡å‹ä»£ç¢¼é‡è¤‡** âš ï¸
   - XGBoost, Random Forestæœ‰å¤šå€‹ç‰ˆæœ¬
   - **å½±éŸ¿**: ç¶­è­·å›°é›£
   - **è§£æ±º**: é‡æ§‹åˆ° `src/models/`

6. **ç¼ºå°‘çµ±ä¸€è¨“ç·´æ¥å£** âš ï¸
   - æ¯å€‹æ¨¡å‹è¨“ç·´æ–¹å¼ä¸åŒ
   - **å½±éŸ¿**: é›£ä»¥æ‰¹æ¬¡åŸ·è¡Œ
   - **è§£æ±º**: å¯¦ä½œ `src/trainers/`

7. **æ¸¬è©¦è¦†è“‹ä¸è¶³** âš ï¸
   - åªæœ‰ data_loader æœ‰æ¸¬è©¦
   - **å½±éŸ¿**: ä»£ç¢¼å“è³ªç„¡ä¿éšœ
   - **è§£æ±º**: å®Œæ•´æ¸¬è©¦å¥—ä»¶

### ğŸŸ¢ ä½é¢¨éšªå•é¡Œ (å»ºè­°æ”¹é€²)

8. **æ–‡æª”ä¸å®Œæ•´**
   - READMEéœ€æ›´æ–°
   - ç¼ºå°‘ API æ–‡æª”

9. **ç¼ºå°‘ CI/CD**
   - æ²’æœ‰è‡ªå‹•åŒ–æ¸¬è©¦

10. **Colab æ”¯æ´ä¸å®Œæ•´**
    - ç¼ºå°‘ Colab å°ˆç”¨ Notebook

---

## ğŸ¯ æ”¹é€ å„ªå…ˆé †åº

### Phase 1: åŸºç¤å»ºè¨­ (Week 1)
1. âœ… `src/data_loader.py` (å·²å®Œæˆ)
2. âŒ `src/preprocess.py`
3. âŒ `src/metrics.py`
4. âŒ å®Œæ•´æ¸¬è©¦å¥—ä»¶

### Phase 2: æ¨¡å‹é‡æ§‹ (Week 2-3)
5. âŒ `src/models/<model_name>/`
6. âŒ `src/trainers/<model_name>_trainer.py`
7. âŒ çµ±ä¸€è¨“ç·´æ¥å£

### Phase 3: æ•´åˆèˆ‡è‡ªå‹•åŒ– (Week 4)
8. âŒ `scripts/run_all_local.sh`
9. âŒ `scripts/run_all_colab.sh`
10. âŒ `notebooks/colab_runner.ipynb`
11. âŒ è·¨æ¨¡å‹æ¯”è¼ƒå ±å‘Š

### Phase 4: é©—è­‰èˆ‡æ–‡æª” (Week 5)
12. âŒ å®Œæ•´æ¸¬è©¦é€šé
13. âŒ README æ›´æ–°
14. âŒ CI/CD è¨­ç½®

---

## ğŸ“ å‚™è¨»

- æœ¬æ–‡æª”å°‡éš¨æ”¹é€ é€²åº¦æŒçºŒæ›´æ–°
- æ‰€æœ‰ âœ…/âŒ/âš ï¸/ğŸš§ æ¨™è¨˜è¡¨ç¤ºå¯¦ä½œç‹€æ…‹
- å»ºè­°æ¯é€±reviewä¸¦æ›´æ–°æ­¤æ–‡æª”

---

**æ–‡æª”ç¶­è­·**: Claude Code
**æœ€å¾Œæ›´æ–°**: 2025-01-05
